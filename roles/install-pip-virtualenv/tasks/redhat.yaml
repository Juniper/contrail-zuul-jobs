---

- name: install setuptools
  package:
    name: python-setuptools
    state: installed
  become: true

- name: install pip
  command: easy_install pip
  become: true

- name: install virtualenv
  package:
    name: python-virtualenv
    state: installed
  become: true

- name: install python3
  package:
    name: python3
    state: installed
  become: true

- name: install epel-release
  yum:
    name: epel-release
    state: present
  become: true

- name: install sphinx
  yum:
    name: python-sphinx
    state: latest
    update_cache: yes
  become: true

- name: check version
  command: python-sphinx --version
  become: true

- name: install/upgrade utilities
  become: true
  command: "python3 -m pip install --upgrade {{ item }}"
  with_items:
    - virtualenv
    - scons
    - lxml
    - requests
