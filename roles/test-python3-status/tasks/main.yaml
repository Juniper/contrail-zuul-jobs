---

- name: copy and change permission of files
  copy:
    src: "{{ item }}"
    dest: "."
  with_items:
    - python3-status-check.sh
    - requirements.txt

- name: Install a list of packages
  apt:
    name: "{{ packages }}"
  vars:
    packages:
      - createrepo
      - docker
      - docker-python
      - gcc
      - gdb
      - git
      - make
      - python-devel
      - python-pip
      - python36-devel
      - python36-pip
      - rpm-build
      - vim
      - wget
      - yum-utils
      - bash-completion
      - bash-completion-extras
      - ShellCheck
      - man-pages
      - man-db
    state: present



- name: run python3 status check script
  shell: |
    virtualenv .venv
    . .venv/bin/activate
    pip3 install --upgrade caniusepython3 future tox geventhttpclient
    bash python3-status-check.sh
