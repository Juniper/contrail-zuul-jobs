---

- name: Check if the docs source dir is created on worker
  stat: "{{ srce_path }}"
  register: docs_dir

- name: Perform the fetch to executor
  when: docs_dir.stat.isdir is defined and docs_dir.stat.isdir
  block:
    - name: Create the target directory on executor
      file:
        path: "{{ dstn_path }}"
        state: directory
      delegate_to: localhost
    - name: Fetch docs
      synchronize:
        src: "{{ srce_path }}"
        dest: "{{ dstn_path }}"
        mode: push
        recursive: yes
