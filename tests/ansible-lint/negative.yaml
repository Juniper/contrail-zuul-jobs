---

- name: test the ansible-lint rules for fails
  hosts: all
  pre_tasks:
    - name: Getting list of availabile rules
      find:
        path: ./fixtures
        file_type: directory
        use_regex: yes
        patterns: "^ANSIBLE-J[0-9][0-9][0-9][0-9]$"
        recurse: no
      register: supported_rules
  debug: msg='{{ supported_rules }}'

- include: reusable_negative.yaml
    rule_id='{{ ANSIBLE-J0003 }}'
- include: reusable_negative.yaml
    rule_id='{{ ANSIBLE-J0007 }}'
